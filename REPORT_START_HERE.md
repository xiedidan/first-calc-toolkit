# 业务价值报表 - 快速开始

## 🎯 目标

快速验证业务价值报表的汇总表和明细表功能。

## 📋 前置条件

1. ✅ 数据库已完成迁移
2. ✅ 已创建模型版本并设置为激活
3. ✅ 已创建模型结构（序列和维度）
4. ✅ 已创建科室并标记为"参与评估"

## 🚀 三步快速开始

### 第一步：生成测试数据

双击运行批处理脚本：

```bash
generate-report-test-data.bat --random
```

或者使用Python脚本：

```bash
cd backend
python generate_report_test_data.py --random
```

### 第二步：启动服务

**终端1 - 后端服务**
```bash
cd backend
uvicorn app.main:app --reload
```

**终端2 - 前端服务**
```bash
cd frontend
npm run dev
```

### 第三步：查看报表

1. 打开浏览器访问 `http://localhost:3000`
2. 登录系统（admin / admin123）
3. 点击左侧菜单"评估结果"
4. 选择评估月份（2025-10）
5. 查看汇总表和明细表

## 📊 功能说明

### 汇总表

显示全院和各科室的业务价值汇总：

- 全院汇总（第一行）
- 医生序列价值和占比
- 护理序列价值和占比
- 医技序列价值和占比
- 科室总价值

### 明细表

点击"查看明细"按钮，显示科室的详细数据：

- 按序列分类（医生、护理、医技）
- 每个维度的工作量、权重、价值、占比
- 序列总价值

## 📚 详细文档

- [测试数据生成指南](REPORT_TEST_DATA_GUIDE.md) - 详细的数据生成说明
- [快速测试指南](REPORT_QUICK_TEST.md) - 完整的测试流程
- [实现总结](REPORT_IMPLEMENTATION_SUMMARY.md) - 技术实现细节

## ❓ 遇到问题？

### 问题1：脚本报错"未找到模型版本"

→ 在模型管理页面创建一个模型版本并设置为激活

### 问题2：脚本报错"未找到参与评估的科室"

→ 在科室管理页面创建科室并勾选"参与评估"

### 问题3：汇总表显示"未找到计算结果"

→ 确认已运行测试数据生成脚本，并选择正确的月份

### 问题4：点击"查看明细"报错

→ 检查浏览器控制台的错误信息，确认task_id正确传递

## 🎉 成功标志

如果看到以下内容，说明功能正常：

- ✅ 汇总表显示全院汇总和各科室数据
- ✅ 数据格式化正确（千分位、百分比）
- ✅ 点击"查看明细"能打开对话框
- ✅ 明细表按序列分类显示维度数据
- ✅ 切换筛选条件能正常加载数据

## 🔧 下一步

功能验证通过后，可以：

1. 实现真实的计算逻辑（SQL/Python代码执行）
2. 实现Excel报表导出功能
3. 添加数据权限控制
4. 优化性能和用户体验

---

**祝你测试顺利！** 🎊
